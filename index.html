<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>FLAME, a SATLE funded project bringing interactive 3D to teaching and learning</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
</head>
<style>
     model-viewer {
     width: 800px;
     height: 400px;
     }
     input[type=range]::-webkit-slider-thumb {
     height : 75px;
     width : 75px;
     }
     button {
        padding: 20px;
        width: 300px;
        text-align: center;
        font-size: 28px;
        background-color: transparent;
        border-radius: 4px;
        border: none;
        position: absolute;
        top: 16px;
        right: 16px;
      }
</style>
    
<body>
<h1>ðŸ”¥ FLAME, a SATLE funded project bringing interactive 3D to teaching and learning</h1>
<p>This project aims to give educators the capability needed to create 3D interactive learning experiences.
    Complex or abstract ideas across domians can be represented in 3D, manipiuated, animated and explored to enhance learning.
    Try and grab the UCD logo and give it a spin.
</p>
<model-viewer 
    id="interactive-UCD-logo"
    src="https://nolankucd.github.io/SATLE_FLAME_UCD/UCD_logo.glb"
    camera-controls
    camera-orbit="10deg 86deg 16m"
    field-of-view="35deg"
    auto-rotate>
</model-viewer>

<p>Simple animaitons using translation and rotation can be used to explore the behaviour of mechanical systems such as this internal combustion engine.
    You can use your mouse, fingers or trackpad to pan, rotate and zoom on the model and take a closer look.
    Hold the shift key while dragging the mouse to pan, scroll your mouse wheel or use your usual zoom gesture to zoom in.
</p>
<model-viewer 
    id="rigid-animation-demo"
    src="https://nolankucd.github.io/SATLE_FLAME_UCD/engine.glb"
    autoplay 
    ar 
    ar-scale="auto" 
    camera-controls
    alt="A simple four cylinder engine"
    xr-environment
    background-color="#ffffff">
</model-viewer>
<button id="playPauseButton" onclick="togglePlayPause()">Play/Pause</button>

    
<p>Deformation can also be presented to help students understand the complexity of objects that change shape.
Here the Stanford Bunny 3D model is revealed from under a cloth.
Here an image texture is mapped to the cloth which faithfully follows the material deformation.
</p>
<model-viewer 
    id="cloth-animation-demo"
    src="https://nolankucd.github.io/SATLE_FLAME_UCD/cloth_bunny.glb"
    autoplay animation-name="KeyAction" 
    ar 
    ar-scale="auto" 
    camera-controls
    camera-orbit="20deg 45deg 2m"
    field-of-view="24deg"
    alt="Revealing the Stanford Bunny"
    xr-environment
    background-color="#ffffff">
</model-viewer>

<p>
What if you want more control over the animation? Using JavaScript it is possible to control playback with a simple slider.
</p>
<model-viewer 
    id="compressor-demo"
    src="https://nolankucd.github.io/FLAME/compressor.glb"
    scale="0.2 0.2 0.2"
    autoplay animation-name="spin" 
    ar 
    ar-scale="auto" 
    camera-controls
    alt="A compressor"
    xr-environment
    background-color="#ffffff">
    <button slot="ar-button">
      ðŸ”¥ View in AR ðŸ”¥
    </button>
</model-viewer>
    <div class="controls">
        <div>
            <p>Speed: <span id="speed-value"></span></p>
            <input id="speed" type="range" style="width: 400px;" style="width: 100px;" min="0" max="1" step="0.01" value="1">
        </div>
        <div>
            <p>Twist: <span id="twist-value"></span></p>
            <input id="twist" type="range" style="width: 400px;" style="width: 100px;" min="0" max="2" step="0.01" value="0">
        </div>
    </div>
    
<script type="module">
const modelViewer = document.querySelector("#interactive-UCD-logo");
modelViewer.interactionPrompt = 'none';
</script>

<script type="module">
const modelViewer = document.querySelector("#rigid-animation-demo");
modelViewer.interactionPrompt = 'none';
    
function togglePlayPause() {

if (modelViewer.paused) {
  modelViewer.play();
} else {
  modelViewer.pause();
}
}
</script>
    
<script type="module">
const modelViewer = document.querySelector("#cloth-animation-demo");
modelViewer.interactionPrompt = 'none';
</script>

<script type="module">
const modelViewer = document.querySelector("#compressor-demo");
const speedSlider = document.querySelector("#speed");
const twistSlider = document.querySelector("#twist");

modelViewer.interactionPrompt = 'none';

speedSlider.addEventListener("input", (event) => {
  modelViewer.animationName = 'spin';
  modelViewer.timeScale = event.target.value;
  modelViewer.play();
});

twistSlider.addEventListener('input', event => {
  modelViewer.animationName = 'twist';
  modelViewer.timeScale = 1;
  modelViewer.currentTime = event.target.value;
  modelViewer.pause();
});


const play = () => {
  modelViewer.play();
};

modelViewer.addEventListener('load', play);
modelViewer.addEventListener('finished', play);
</script>

</body>
